
task fatjar(type: Jar, dependsOn: 'assemble') {
    archiveName = "gifttolatex.jar"
    duplicatesStrategy = 'exclude'
    def mainClassName = "giftToLatex.Main"

    from {
        from files(sourceSets.main.output.classesDir)

        from files(sourceSets.main.output.resourcesDir)

        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
        configurations.runtime.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }

    manifest {
        attributes 'Built-By': System.getProperty('user.name'),
                'Built-Date': new Date(),
                'Built-JDK': System.getProperty('java.version'),
                'Main-Class': mainClassName
    }
}
